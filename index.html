<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>ç™½åœ­ç†è²¡ App æ¨¡æ“¬</title>
  <style>
    body {
      font-family: 'Microsoft JhengHei', sans-serif;
      text-align: center;
      background-color: #f9f9f9;
      padding: 20px;
    }
    h1 {
      background-color: #444;
      color: white;
      padding: 20px 0;
    }
    button {
      width: 260px;
      height: 45px;
      margin: 10px;
      font-size: 16px;
      border-radius: 6px;
      background-color: #2a9d8f;
      color: white;
      border: none;
      cursor: pointer;
    }
    select {
      font-size: 16px;
      margin: 5px;
      padding: 5px;
    }
    #result {
      white-space: pre-line;
      margin-top: 20px;
      font-size: 18px;
      color: #333;
    }
  </style>
</head>
<body>
  <h1>ç™½åœ­ç†è²¡ App æ¨¡æ“¬</h1>

  <div id="money" style="font-weight:bold; margin-bottom: 10px;"></div>

  <button onclick="showAdvice()">ğŸ“ˆ æŠ•è³‡å»ºè­°</button><br><br>

  <label for="regionSelect">é¸æ“‡åœ°å€ï¼š</label>
  <select id="regionSelect">
    <option value="ç‡•åœ‹">ç‡•åœ‹</option>
    <option value="è¶™åœ‹">è¶™åœ‹</option>
    <option value="æ¥šåœ‹">æ¥šåœ‹</option>
  </select>

  <label for="productSelect">é¸æ“‡å•†å“ï¼š</label>
  <select id="productSelect">
    <option value="é¹½">é¹½</option>
    <option value="æœ¨æ">æœ¨æ</option>
    <option value="çµ²ç¶¢">çµ²ç¶¢</option>
  </select>

  <br><br>
  <button onclick="simulateTrade()">ğŸ’¼ æ¨¡æ“¬å•†å“äº¤æ˜“</button><br><br>
  <button onclick="showMap()">ğŸŒ åœ°å€è²¿æ˜“åœ°åœ–</button>

  <div id="result" style="margin-top: 20px; font-size: 18px;"></div>

  <script>
    const tradeData = {
      "ç‡•åœ‹": { "é¹½": 300, "æœ¨æ": -150, "çµ²ç¶¢": 100 },
      "è¶™åœ‹": { "é¹½": 200, "æœ¨æ": 250, "çµ²ç¶¢": -100 },
      "æ¥šåœ‹": { "é¹½": -50, "æœ¨æ": 50, "çµ²ç¶¢": 500 },
    };

    let totalMoney = 1000;

    function updateMoneyDisplay() {
      document.getElementById("money").innerText = `ç›®å‰è³‡ç”¢ï¼š${totalMoney} éŒ¢`;
    }

    function simulateTrade() {
      const region = document.getElementById("regionSelect").value;
      const product = document.getElementById("productSelect").value;

      let output = "";
      const baseProfit = tradeData[region]?.[product];

      if (baseProfit === undefined) {
        output = "è©²åœ°ç„¡æ³•äº¤æ˜“æ­¤å•†å“ã€‚";
      } else {
        totalMoney += baseProfit;
        if (baseProfit >= 0) {
          output = `ä½ åœ¨${region}è³£${product}ï¼Œç²åˆ© ${baseProfit} éŒ¢ã€‚`;
        } else {
          output = `ä½ åœ¨${region}è³£${product}ï¼Œè™§æ ${-baseProfit} éŒ¢ã€‚`;
        }

        const rand = Math.random();
        if (rand < 0.2) {
          const eventType = Math.random();
          if (eventType < 0.5) {
            totalMoney -= 100;
            output += "\nâš ï¸ é‡åˆ°å¼·ç›œï¼Œè¢«æ¶èµ° 100 éŒ¢ï¼";
          } else {
            totalMoney += 100;
            output += "\nğŸ‰ é‡åˆ°è²´äººå¹«åŠ©ï¼Œç²å¾— 100 éŒ¢ï¼";
          }
        }
      }

      updateMoneyDisplay();
      document.getElementById("result").innerText = "ğŸ’° äº¤æ˜“çµæœï¼š\n" + output;
    }

    const adviceList = [
      "èƒ½å¸‚å‰‡å¸‚ï¼Œç„¡å¸‚å‰‡å»ã€‚",
      "å•†è€…ï¼Œé€åˆ©ä¹Ÿï¼Œç„¶äº¦è§€æ™‚è€Œå‹•ã€‚",
      "çŸ¥å‹¢è€…å¯Œï¼Œå¯Ÿäººè€…å®‰ã€‚",
      "è²¨æ‚–è€Œå…¥è€…ï¼Œäº¦æ‚–è€Œå‡ºã€‚",
      "å› åœ°åˆ¶å®œï¼Œæ“‡äººäº¤æ˜“ã€‚"
    ];

    function showAdvice() {
      const advice = adviceList[Math.floor(Math.random() * adviceList.length)];
      document.getElementById("result").innerText = "ğŸ“œ ç™½åœ­èªéŒ„ï¼š\n" + advice;
    }

    function showMap() {
      const mapInfo = "ğŸ“ åœ°å€éœ€æ±‚æ¨¡æ“¬ï¼š\n- ç‡•åœ‹ï¼šç¼ºé¹½\n- è¶™åœ‹ï¼šæœ¨æè²´\n- æ¥šåœ‹ï¼šçµ²ç¶¢ç››è¡Œ";
      document.getElementById("result").innerText = mapInfo;
    }

    window.onload = updateMoneyDisplay;
  </script>
</body>
</html>
